---
import MapPinIcon from "./icons/MapPinIcon.astro";
import WhatsAppIcon from "./icons/WhatsAppIcon.astro";
import MailIcon from "./icons/MailIcon.astro";
import InstagramIcon from "./icons/InstagramIcon.astro";
import FacebookIcon from "./icons/FacebookIcon.astro";
import LinkedinIcon from "./icons/LinkedinIcon.astro";
import YoutubeIcon from "./icons/YoutubeIcon.astro";
import { getI18N } from "../i18n";
import { getLangFromUrl, useTranslatedPath, useTranslations } from "../i18n/utils";

const { currentLocale } = Astro;                   
const i18n = getI18N( { currentLocale } );
const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
const t = useTranslations(lang);
---

<footer class="relative bg-[#233E1D] text-white">
    <img 
        src="/images/anclaFooter.webp" 
        alt="ancla footer"
        class="absolute right-0 bottom-0 h-full max-w-none pointer-events-none select-none"
    />

    <div class="py-8 px-10 md:px-32 flex flex-col space-y-8 md:grid md:grid-cols-5 md:gap-14">

        <div class="md:col-span-1">
            <img 
                src="/images/logo_DAGSA.svg"
                class="-mt-8 mb-6 w-36 mx-auto" 
                alt="Logo"
            />
            <div class="text-xl font-bold h-12 bg-[#DF0A14] flex justify-center items-center px-6 space-x-4">
                <div class="bg-white rounded-full size-8 p-1 flex items-center justify-center cursor-pointer">
                    <InstagramIcon class="size-8 text-[#DF0A14]" />
                </div>
                <div class="cursor-pointer">
                    <FacebookIcon class="size-9 fill-[#DF0A14]" />
                </div>
                <div class="cursor-pointer">
                    <LinkedinIcon class="size-8 bg-[#DF0A14] " />
                </div>
                <div class="bg-white p-1 rounded-full size-8 flex items-center justify-center cursor-pointer">
                    <YoutubeIcon class="size-8 fill-[#DF0A14]" />
                </div>
            </div>
        </div>

        <div class="space-y-4 text-xl md:col-span-2 font-light items-center">
            <div class="flex">
                <MapPinIcon class="size-8 text-[#DF0A14]"/>
                <div class="ml-1">
                    <p>Isabel la Cat√≥lica #1450 Altos. Col. Electricistas</p>
                    <p>C.P. 91916, Veracruz, Ver</p>
                </div>
            </div>
            <div class="flex items-center">
                <WhatsAppIcon size="8" class="text-[#DF0A14]"/>
                <p class="ml-2">(229) 929 14 85</p>
            </div>
            <div class="flex items-center">
                <MailIcon size="8" class="text-[#DF0A14] mr-1"/>
                <p class="ml-1">comercial@despachoyasesoria.com</p>
            </div>
        </div>
            
        <div class="text-2xl text-center md:text-left font-semibold md:col-span-1 uppercase">
            <ul class="space-y-1">
                <li><a href={translatePath('/')} class="hover:text-[#DF0A14]">{t('nav.inicio')}</a></li>
                <li><a href={translatePath('/servicios/')} class="hover:text-[#DF0A14]">{t('nav.servicios')}</a></li>
                <li><a href={translatePath('/nosotros/')} class="hover:text-[#DF0A14]">{t('nav.nosotros')}</a></li>
                <li><a href={translatePath('/contacto/')} class="hover:text-[#DF0A14]">{t('nav.contacto')}</a></li>
            </ul>
        </div>
    
        <div class="text-2xl text-center md:text-left underline underline-offset-1 text-[#41583C] md:col-span-1">
            <ul class="space-y-1">
                <li><a href="/">{ i18n.FOOTER.POLICIES.TEXT1 }</a></li>
                <li><a href="/">{ i18n.FOOTER.POLICIES.TEXT2 }</a></li>
                <li><a href="/">{ i18n.FOOTER.POLICIES.TEXT3 }</a></li>
            </ul>
        </div>

    </div>
</footer>